{"ast":null,"code":"var _jsxFileName = \"E:\\\\TraeProjects\\\\DevelopmentDashboard\\\\frontend\\\\src\\\\components\\\\AccessControl.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport accessConfig from '../config/accessConfig.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AccessControl = ({\n  children\n}) => {\n  _s();\n  const [accessGranted, setAccessGranted] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    // Ê£ÄÊü•ËÆøÈóÆÊùÉÈôê\n    const checkAccess = () => {\n      const hasAccess = accessConfig.checkAccess();\n      setAccessGranted(hasAccess);\n      setLoading(false);\n      if (!hasAccess && accessConfig.enableRedirectAccess) {\n        console.warn('ËÆøÈóÆË¢´ÊãíÁªù:', {\n          referrer: document.referrer,\n          allowedReferrers: accessConfig.allowedReferrers,\n          enableRedirectAccess: accessConfig.enableRedirectAccess\n        });\n      }\n    };\n\n    // Âª∂ËøüÊ£ÄÊü•ÔºåÁ°Æ‰øùÈ°µÈù¢ÂÆåÂÖ®Âä†ËΩΩ\n    setTimeout(checkAccess, 100);\n  }, []);\n\n  // Âä†ËΩΩ‰∏≠\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        fontSize: '18px',\n        color: '#666'\n      },\n      children: \"\\u6B63\\u5728\\u9A8C\\u8BC1\\u8BBF\\u95EE\\u6743\\u9650...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this);\n  }\n\n  // ËÆøÈóÆË¢´ÊãíÁªù\n  if (!accessGranted) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        padding: '20px',\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#fff2f0',\n          border: '1px solid #ffccc7',\n          borderRadius: '8px',\n          padding: '40px',\n          maxWidth: '500px',\n          boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '48px',\n            color: '#ff4d4f',\n            marginBottom: '20px'\n          },\n          children: \"\\uD83D\\uDEAB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            color: '#ff4d4f',\n            marginBottom: '16px',\n            fontSize: '24px'\n          },\n          children: \"\\u8BBF\\u95EE\\u88AB\\u62D2\\u7EDD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#666',\n            fontSize: '16px',\n            lineHeight: '1.5',\n            marginBottom: '20px'\n          },\n          children: accessConfig.accessDeniedMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '14px',\n            color: '#999',\n            borderTop: '1px solid #f0f0f0',\n            paddingTop: '16px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\u5141\\u8BB8\\u7684\\u6765\\u6E90\\uFF1A\", accessConfig.allowedReferrers.length > 0 ? accessConfig.allowedReferrers.join(', ') : 'Êú™ÈÖçÁΩÆ']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }\n\n  // ËÆøÈóÆÂÖÅËÆ∏ÔºåÊ∏≤ÊüìÂ≠êÁªÑ‰ª∂\n  return children;\n};\n_s(AccessControl, \"9Y1YFXdI2x3uhlUBziNHfY4A6kU=\");\n_c = AccessControl;\nexport default AccessControl;\nvar _c;\n$RefreshReg$(_c, \"AccessControl\");","map":{"version":3,"names":["React","useEffect","useState","accessConfig","jsxDEV","_jsxDEV","AccessControl","children","_s","accessGranted","setAccessGranted","loading","setLoading","checkAccess","hasAccess","enableRedirectAccess","console","warn","referrer","document","allowedReferrers","setTimeout","style","display","justifyContent","alignItems","height","fontSize","color","fileName","_jsxFileName","lineNumber","columnNumber","flexDirection","padding","textAlign","backgroundColor","border","borderRadius","maxWidth","boxShadow","marginBottom","lineHeight","accessDeniedMessage","borderTop","paddingTop","length","join","_c","$RefreshReg$"],"sources":["E:/TraeProjects/DevelopmentDashboard/frontend/src/components/AccessControl.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport accessConfig from '../config/accessConfig.js';\n\nconst AccessControl = ({ children }) => {\n  const [accessGranted, setAccessGranted] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Ê£ÄÊü•ËÆøÈóÆÊùÉÈôê\n    const checkAccess = () => {\n      const hasAccess = accessConfig.checkAccess();\n      setAccessGranted(hasAccess);\n      setLoading(false);\n      \n      if (!hasAccess && accessConfig.enableRedirectAccess) {\n        console.warn('ËÆøÈóÆË¢´ÊãíÁªù:', {\n          referrer: document.referrer,\n          allowedReferrers: accessConfig.allowedReferrers,\n          enableRedirectAccess: accessConfig.enableRedirectAccess\n        });\n      }\n    };\n\n    // Âª∂ËøüÊ£ÄÊü•ÔºåÁ°Æ‰øùÈ°µÈù¢ÂÆåÂÖ®Âä†ËΩΩ\n    setTimeout(checkAccess, 100);\n  }, []);\n\n  // Âä†ËΩΩ‰∏≠\n  if (loading) {\n    return (\n      <div style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        fontSize: '18px',\n        color: '#666'\n      }}>\n        Ê≠£Âú®È™åËØÅËÆøÈóÆÊùÉÈôê...\n      </div>\n    );\n  }\n\n  // ËÆøÈóÆË¢´ÊãíÁªù\n  if (!accessGranted) {\n    return (\n      <div style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        padding: '20px',\n        textAlign: 'center'\n      }}>\n        <div style={{\n          backgroundColor: '#fff2f0',\n          border: '1px solid #ffccc7',\n          borderRadius: '8px',\n          padding: '40px',\n          maxWidth: '500px',\n          boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)'\n        }}>\n          <div style={{\n            fontSize: '48px',\n            color: '#ff4d4f',\n            marginBottom: '20px'\n          }}>\n            üö´\n          </div>\n          <h2 style={{\n            color: '#ff4d4f',\n            marginBottom: '16px',\n            fontSize: '24px'\n          }}>\n            ËÆøÈóÆË¢´ÊãíÁªù\n          </h2>\n          <p style={{\n            color: '#666',\n            fontSize: '16px',\n            lineHeight: '1.5',\n            marginBottom: '20px'\n          }}>\n            {accessConfig.accessDeniedMessage}\n          </p>\n          <div style={{\n            fontSize: '14px',\n            color: '#999',\n            borderTop: '1px solid #f0f0f0',\n            paddingTop: '16px'\n          }}>\n            {/* <p>ÂΩìÂâçÊù•Ê∫êÔºö{document.referrer || 'Áõ¥Êé•ËÆøÈóÆ'}</p> */}\n            <p>ÂÖÅËÆ∏ÁöÑÊù•Ê∫êÔºö{accessConfig.allowedReferrers.length > 0 ? accessConfig.allowedReferrers.join(', ') : 'Êú™ÈÖçÁΩÆ'}</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // ËÆøÈóÆÂÖÅËÆ∏ÔºåÊ∏≤ÊüìÂ≠êÁªÑ‰ª∂\n  return children;\n};\n\nexport default AccessControl;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}